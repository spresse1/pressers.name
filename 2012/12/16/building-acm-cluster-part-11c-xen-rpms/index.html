<!doctype html><html lang=en><head><title>Building the ACM Cluster, Part 11c: Xen RPMs - The Electronic Press</title><meta charset=utf-8><meta http-equiv=cache-control content="public"><meta name=robots content="follow, all"><meta name=language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Next up, lets build RPMs of Xen, a hypervisor. Xen was chosen because on machines which do not have virtualization bits (like the cluster I&rsquo;m building), Xen will do paravirtualization, which is still somewhat quick.Xen also has the concept of clustering and shifting VMs between instances - an important feature in a VM cluster!
Xen Spec Files CentOS 6 no longer has support for Xen. CentOS decided that they were going to put their weight behind QEMU/KVM as the virtulization solution and thus stopped distributing and supporting Xen."><meta name=keywords content><link rel=alternate type=application/rss+xml title="RSS Feed for pressers.name" href=/index.xml><link rel=stylesheet type=text/css media="screen, projection" href=/static/css/base.css><link rel=stylesheet type=text/css media="screen, projection" href=/static/css/cssmenu.css><link rel=stylesheet type=text/css media="screen, projection" href=/static/css/menustyling.css><link rel=stylesheet type=text/css media="screen, projection" href=/static/css/blog.css><link rel=stylesheet type=text/css media=print href=/static/css/print.css></head><body><div id=skip><a href=#content>Skip to Main Content</a></div><div id=leftbar></div><div id=contentwrapper><div id=header><div id=titleimagediv></div><div id=twotraces><div id=twotracesright>&nbsp;</div></div></div><div class=menu id=topmenu><nav><ul class=top-navigation><li><a href=/ title=Home rel=home>Home</a></li><li><a href=http://github.com/spresse1>GitHub</a></li><li><a href=/contact>Contact</a></li></ul></nav></div><div id=onetrace><div id=onetraceleft></div><div id=breadcrumbs class=breadcrumbs><nav><ul class=breadcrumbs><li><a href=/>Home</a></li><li><a href=/blog/>Blogs</a></li><li><a href=/2012/12/16/building-acm-cluster-part-11c-xen-rpms/>Building the ACM Cluster, Part 11c: Xen RPMs</a></li></ul></nav></div></div><div id=bodywrapper><div id=content><div id=contentborder></div><div id=innercontent><main><div class=hentry><article itemtype=http://schema.org/Article itemscope id=blog/acm-cluster/building-acm-cluster-part-11c-xen-rpms.md><header class=entry-header><h1 class=entry-title><a href=/2012/12/16/building-acm-cluster-part-11c-xen-rpms/>Building the ACM Cluster, Part 11c: Xen RPMs</a></h1><p class=entry-info>Published on <time>Sun, Dec 16, 2012</time>
in ACM, ACM Cluster</p></header><div class=entry-body><p>Next up,  lets build RPMs of <a href=http://xen.org/>Xen</a>, a hypervisor.  Xen was chosen because on machines which do not have virtualization bits (like the cluster I&rsquo;m building), Xen will do paravirtualization, which is still somewhat quick.Xen also has the concept of clustering and shifting VMs between instances - an important feature in a VM cluster!</p><h1 id=xen-spec-files>Xen Spec Files</h1><p>CentOS 6 no longer has support for Xen.  CentOS decided that they were going to put their weight behind QEMU/KVM as the virtulization solution and thus stopped distributing and supporting Xen.  There are a few third party sites out there hosting packages. But, frankly, I am sufficiently paranoid to want to build them myself.  I also could not find a freely available spec file.  So I <a href=https://github.com/spresse1/acm-vm-cluster/blob/master/xen/xen.spec>wrote my own for Xen</a>.  Hopefully the fact that I simply use the official Xen source and a spec file that is very simple and easy to examine will satisfy those who are as paranoid as I am.</p><h1 id=on-to-building-the-rpm>On to Building the RPM</h1><ol><li>Download <a href=https://raw.github.com/spresse1/acm-vm-cluster/master/xen/xen.spec>a copy of my spec file</a>.  As before put it in <code>rpmbuild/SPECS</code>.</li><li>Download <a href=http://xen.org/products/downloads.html>a copy of Xen</a>.  At the time of writing, my spec file is designed for Xen 4.2.0, which can be <a href=http://bits.xensource.com/oss-xen/release/4.2.0/xen-4.2.0.tar.gz>downloaded here</a>.  Put this in <code>rpmbuild/SOURCES</code>.</li></ol><p>If you need to update my spec file to a later version of Xen, it should be as simple as change the <code>Source:</code> and <code>Version:</code> lines of the spec file to reflect the new version number.  Then, run, similarly to before:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ rpmbuild -ba rpmbuild/SPECS/xen.spec&lt;/pre&gt;
</span></span></code></pre></div><p>(You will probably need to install dependencies, as <a href=/2012/12/15/building-acm-cluster-part-11a-setting-rpmbuild-environment/>I covered in part 11a of this series</a>.)</p><p>It&rsquo;ll chew for a while (seriously, Xen takes longer than the kernel), but then you&rsquo;ll end up with Xen RPMs in <code>rpmbuild/RPMS</code>.  Congrats, you have a Xen package!  Inject it as before (<a href=/2012/12/15/building-acm-cluster-part-11b-kernel-rpm-build/>the end of part 11b</a>) and move on.</p></div></article></div></main></div></div><div id=sidebar><div class=widget><nav><h1>Recent Posts</h1><ul class=entries-reent><li><a href=https://pressers.name/2022/02/01/enigma-2022/>Enigma 2022</a></li><li><a href=https://pressers.name/2021/11/21/getting-new-lenses-lensfun-notes/>Getting new lenses for Lensfun</a></li><li><a href=https://pressers.name/2021/10/04/living-germany-converting-drivers-license/>Living in Germany: Converting a Driver's License</a></li><li><a href=https://pressers.name/2021/02/08/im-moving-germany/>I'm moving to Germany!</a></li><li><a href=https://pressers.name/2021/01/23/i-finally-finished-kings-quest-6/>I Finally Finished King's Quest 6!</a></li></ul></nav></div><div class=sidebarbender></div><div class=widget><nav><h1>Social Media</h1><ul class=socialmedia><li><a href=https://twitter.com/spresser>Twitter</a></li><li><a href=https://www.linkedin.com/in/steven-presser/>LinkedIn</a></li></ul></nav></div><div class=sidebarbender></div><div class=widget><nav><h1>Categories</h1><ul class=categories><li><a href=https://pressers.name/categories/3d-printing/>3D Printing</a></li><li><a href=https://pressers.name/categories/acm/>ACM</a></li><li><a href=https://pressers.name/categories/acm-cluster/>ACM Cluster</a></li><li><a href=https://pressers.name/categories/cyberlaw/>Cyberlaw</a></li><li><a href=https://pressers.name/categories/cybersecurity/>Cybersecurity</a></li><li><a href=https://pressers.name/categories/germany/>Germany</a></li><li><a href=https://pressers.name/categories/infrastructure/>Infrastructure</a></li><li><a href=https://pressers.name/categories/life-in-germany/>Life in Germany</a></li><li><a href=https://pressers.name/categories/links/>Links</a></li><li><a href=https://pressers.name/categories/presentations/>Presentations</a></li><li><a href=https://pressers.name/categories/projects/>Projects</a></li><li><a href=https://pressers.name/categories/shrubbery/>Shrubbery</a></li></ul></nav></div><div class=sidebarbender></div></div></div><div id=onetracebottom><footer><a href=https://github.com/spresse1/pressers.name>Website source</a><br>Site design by Kyle M.</footer></div></div></body></html>